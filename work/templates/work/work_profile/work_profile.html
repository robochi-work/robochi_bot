{% extends 'base.html' %}
{% load i18n %}

{% block body %}
  <div class="work_profile main">

    <h2>{% trans "Ћичный кабинет" %}</h2>

    <div>
      <strong>{% trans "»м€ из Telegram" %}:</strong>
      <span id="tg-name">Ч</span>
    </div>

    <div style="margin-top: 10px;">
      <strong>{% trans "Role" %}:</strong> {{ role }}
    </div>

    <div style="margin-top: 10px;">
      <strong>{% trans "City" %}:</strong> {{ city }}
    </div>

  </div>

  <script>
    const tgUser = window.Telegram?.WebApp?.initDataUnsafe?.user;
    if (tgUser) {
      const name = [tgUser.first_name, tgUser.last_name].filter(Boolean).join(' ');
      document.getElementById('tg-name').innerText = name || 'Ч';
    }
  </script>
{% endblock %}
